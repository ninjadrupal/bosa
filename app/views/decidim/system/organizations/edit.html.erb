<%= decidim_form_for(@form) do |f| %>
  <div class="field">
    <%= f.text_field :name, autofocus: true %>
  </div>

  <div class="field">
    <%= f.text_field :host %>
  </div>

  <div class="field">
    <%= f.text_area :secondary_hosts %>
    <p class="help-text"><%= t(".secondary_hosts_hint") %></p>
  </div>

  <div class="field">
    <%= f.label :force_authentication %>
    <%= f.check_box :force_users_to_authenticate_before_access_organization %>
  </div>

  <div class="field">
    <%= f.label :users_registration_mode %>
    <%= f.collection_radio_buttons :users_registration_mode,
                                   Decidim::Organization.users_registration_modes,
                                   :first,
                                   ->(mode) { t("decidim.system.organizations.users_registration_mode.#{mode.first}") } %>
  </div>

  <div class="field">
    <%= f.label :available_authorizations %>
    <%= f.collection_check_boxes :available_authorizations, Decidim.authorization_workflows, :name, :description %>
  </div>

  <hr/>
  <div class="field">
    <%= f.select :bosa_app_type,
                 [['Default (BOSA)', 'default'], ['BOSA CITIES', 'bosa-cities']],
                 {include_blank: false},
                 {multiple: false} %>
  </div>

  <fieldset class="fieldset">
    <legend>Enabled Modules</legend>
    <div class="field">
      <%= f.check_box :module_castings_enabled, label: 'Castings' %>
    </div>
    <div class="field">
      <%= f.check_box :module_initiatives_enabled, label: 'Initiatives' %>
    </div>
    <div class="field">
      <%= f.check_box :module_suggestions_enabled, label: 'Suggestions' %>
    </div>
  </fieldset>

  <fieldset class="fieldset">
    <legend>Basic Auth</legend>
    <div class="field">
    <%= f.text_field :basic_auth_username %>
    </div>
    <%= f.text_field :basic_auth_password %>
  </fieldset>

  <%= render partial: "initiatives_settings", locals: { f: f } %>
  <%= render partial: "suggestions_settings", locals: { f: f } %>
  <%= render partial: "smtp_settings", locals: { f: f } %>
  <%= render partial: "omniauth_settings", locals: { f: f } %>

  <div class="actions">
    <%= f.submit t("decidim.system.actions.save") %>
  </div>
<% end %>
